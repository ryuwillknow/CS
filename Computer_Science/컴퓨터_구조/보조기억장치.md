## 보조기억장치

하드, SSD, USB 등. 하드디스크는 원판모양의 플래터를 스핀들로 돌리면서 헤드로 정보를 읽는다. 0과 1이 N극과 S극으로 저장된다. 플래터 갯수만큼 헤드가 있다. 겹겹이. 플래시 메모리는 셀이 가장 작은 단위이다. 한 셀이 1비트면 SLC 타입, 2비트이면 MLC 타입, 3비트이면 TLC타입이다. SLC가 수명이 길고 빠르지만 비싸다. TLC가 수명이 짧고 느리고 가격이 싸다. 셀들이 모여 만들어진 단위는 페이지, 페이지가 모이면 블록 블록이 모이면 플레인, 플레인이 모이면 다이가 된다. 페이지는 3가지 상태를 가질 수 있다. FREE는 어떠한 데이터도 없어서 새로운 데이터를 저장할 수 있는 상태, Valid는 유효한 데이터를 저장하고 있는 상태, Invalid는 유효하지않은 데이터를 저장하고 있는 상태이다. 플래시 메모리는 하드와 달리 덮어 쓰기가 불가능하고 Valid이면 새 데이터를 저장할 수 없다. 기존의 데이터를 변경하고 싶으면 새 데이터를 저장하고 기존 데이터는 쓰레기값, 유효하지 않은 데이터로 만든다. 여기서 중요한 것 매우 중요한 것!!! 삭제는 블록(페이지가 모인)단위로 밖에 안됨. 비효율적인 공간을 없애고자 SSD는 가비지 컬랙션 기능을 제공한다!!(자바에도 있지롱) 가비지 컬렉션은 유효페이지들을 새로운 블록에 복사하고 기존 블록을 삭제한다.

레이드!(I’ve been here) : 여러개의 물리적 보조기억장치를 하나의 논리적 보조기억장치처럼 사용하는 기술. 레이드 구성방법은 RAID 레벨로 표현한다. RAID 0는 여러개의 보조장치를 나누어 저장하는 방식이다. 분산되어 저장되는 데이터를 스트라입이라고 하고 분산하여 저장하는 것을 스트라이핑이라고 한다. 읽고 쓰는 속도가 RAID의 개수만큼 빨라진다. 하지만 정보가 안정하지 않다. RAID 구성한 하드디스크중 하나만 문제가 생겨도 모두 못 쓰기 떄문이다. 이를 보완하기 위해 RAID 1이 등장했다. 스트라이핑을 사용하지만 미러링(완전한 복사본을 만듦)하여 구성하기떄문에 더 안전하다. RAID 4는 RAID1 처럼 완전한 복사본을 만들지 않고 오류를 검출하고 복구하는데 필요한 정보를 저장하는 장치를 구성한다. 그 정보를 패리티 비트라 한다. RAID 5 병목현상을 막기위해 패리티를 분산하여 저장한다. RAID는 서로 다른 두개의 패리티를 두는 방법이다. 느리지만 더 안전하다.
