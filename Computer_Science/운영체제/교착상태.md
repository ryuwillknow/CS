## 교착상태

일어나지 않을 사건을 기다리며 진행을 멈춰버리는 현상을 교착상태. 자원할당 그래프를 그려보면 교착상태를 표현할 수 있다. 자원 할당한 곳을 향해 검은 화살표를 그리고 필요로 하는 자원을 향해 빨간색 화살표를 그린다. 이때 원의 형태를 띈다면 교착상태가 생긴 것이다. 교착상태의 조건은 4가지가 있다. 상호배제(자원을 하나의 프로세스만 이용가능), 점유와 대기(다른 자원을 기다림), 비선점(자원을 강제로 뺏지 못함), 원형대기( 할당받은 자원이 원의 형태를 이루었기 때문)

교착상태 탈출법 : 예방, 회피, 검출 후 회복 세가지 방법으로 탈출한다. 예방은 교착상태조건 4가지중 하나를 충족하지 못하게 하는 방법이다. 상호배제는 없애기 불가능. 점유와 대기를 없애기 위해서는 특정 프로세스에 모든 자원을 할당하거나 아예 할당하지 않는 방식으로 배분할 수 있지만 자원활용율이 낮아진다. 또 많은 자원을 필요하는 프로세스는 무한정으로 기다릴 수 밖에 없다. 비선점조건을 없애면 특정 자원에서는 효과적이지만 프린터와 같이 다른 도중에 뺏어서 사용하기 어려운 자원의 경유 교착상태를 예방하기 어렵다. 원형대기 조건을 없애려면 모든 자원에 번호를 붙이고 오름차순으로 자원을 할당하면된다. 하지만 수많은 자원에 번호 붙이기가 어렵다. 예방은 여러 부작용이 있다.  교착상태를 회피하기 위해서는 자원을 교착 상태가 발생하지 않을 정도로만 할당하는 방식이다. 교착상태가 발생하지 않고 모든 프로세스가 정상적으로 자원을 할당 받고 종료될 수 있는 상태를 안전상태라고 한다. 반대는 불안전 상태이다. 안전 순서열은 교착상태 없이 안전하게 프로세스의 자우너을 할당하는 순서를 의미한다. 이 순서 대로 자원을 배분하면 교착상태가 발생하지 않는다. 불완전 상태는 교착 상태가 발생할 수 있는 위험이 있다. 항상 안전상태를 유지하려고 하는 것. 이건 384쪽 봐야함.  교착상태 검출 후 회복은 교착 상태 발생 후 사호에 조치하는 방식이다. 주기적으로 교착 상태 발생 여부를 검사하고 검출 시 선점을 통해 회복하기도 하고 프로세스를 강제 종료하기도 한다.(모두 강제종료, 교착상태가 없어질 때까지 하나씩 강제종료) 타자 알고리즘은 모르는 척 하는 것을 의미한다.
