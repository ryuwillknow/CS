## 프로세스 동기화

자바 싱글톤에서 나왔던 개념 쭉 이어진다.

프로세스 동기화는 작업들 사이의 수행 시기를 맞추는 것을 의미한다. 실행 순서를 제어하고 접근 하면 안되는 자원에 하나의 프로세스만 접근하게한다. 실행순서 제어는 간단한 예시로 설명하면 txt파일을 읽고 쓰지 않고 쓰고 읽게 순서를 조정하는 것이다. 상호 배제의 예시는 계좌 입출금이 있다. 계좌 입출금을 잔액 읽기, 읽은 잔액에 돈 더하기 빼기, 값 저장하기 세단계로 구성했을 때 만약에 돈 더하기 빼기 연산만 하고 문맥 교환이 일어난다면 우리가 원하는 값이 저장 안되는 경우가 생긴다. 이를 막기위해 잔액이라는 데이터를 사용하는데 한 프로세스가 접근 했을 때 다른 프로세스가 기다리게 하는 것을 상호 배제를 위한 동기화라고 한다.  여러 프로세서가 사용하는 자원을 공유자원이라고 한다. 공유자원에 접근하는 코드 영역을 임계구역이라고 한다. 두개 이상의 프로세스가 임계구역에 진입하고자 하면 둘 중 하나는 대기해야한다. 하지만 잘못된 실행으로 동시 다발적으로 임계구역에 접근하는 문제를 레이스 컨디션이라고 한다. 운영체제는 레이스 컨디션을 막기위해 세가지 원칙을 지킨다. 상호배제( 한 프로세스가 임계 구역에 진입했다면 다른 프로세스 진입불가), 진행(아무도 임계구역에 진입하지 않았다면 들어갈 수 있다), 유한대기(무한정 대기 불가)

동기화 기법(java synchronized?) : 뮤텍스 락 는 프로세스들이 공유하는 전역변수 lock과 임계구역을 잠그는 acquire 함수, 임계 구역의 잠금을 해제하는 release 함수로 구현한다. acquire은 임계구역에 진입하기 전 호출하는 함수로 lock 이 false가 될때까지 확인하고 열려있다면 true로 바꾼다. release 함수는 임계구역 작업이 끝나면 호출하는 함수. lock 을 false로 바꾼다. 세마포는 뮤텍스 락과 비슷하다. wait()과 signal()(들어와도 좋다는 신호) 사이에 임계 구역을 넣는다. 여기서 공유자원 개수를 미리 설정해주고 wait에는 사용 가능한 공유자원이 0보다 클 때 -1을 하고 넘어가는 함수를 signal에는 공유자원에 1을 더하는 함수를 배치한다. 여기서 세마포를 발전시킨 방법이 있다. 공유자원의 개수가 0보다 작다면 프로세스를 대기상태로 만들고 대기 Queue로 보낸다. signal 함수를 호출하면 대기 Queue에서 제거하고 프로세스를 준비상태로 변경한다.  sleep() = 대기상태 wakeup() = 준비상태. 세마포를 사용하면 순서도 만들 수 있다. p1 : <임계영역> signal()  p2 : wait() <임계영역> 이렇게 하면 p1 다음에 p2 실행된다.  모니터 기법은 공유자원과 공유자원으로 접근하기 위한 인터페이스를 묶어서 관리한다.  조건변수 q 에 삽입하여 잠시 대기상태로 만들어놓고 다른 프로세스의 signal 연산으로 다시 공유자원 연산 인터페이스에 넣을 수 있다. [이 부분 살짝 부족](https://github.com/dogfoothuman/self-learning-cs/blob/main/synchronization/syncronization.md) 와우 이거 레전드?
